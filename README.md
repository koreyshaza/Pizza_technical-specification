# Техническое задание на настройку диплинка в универсальной ссылке OneLink для приложения по доставке пиццы «Пицца Пицца»

Необходимо настроить диплинкинг для универсальной ссылки OneLink для приложения Android «Пицца Пицца».

## Зачем?
В рекламе приложения сейчас используем универсальную ссылку OneLink, вида: https://postmates.onelink.me/5uYG?pid=facebook&af_click_lookback=7d&af_dp=postmates://root&promo_code=icecream&title=Welcome%20to%20Postmates!&message=Use%20OneLink%20for%20your%20custom%20onboarding&button_title=Let%27s%20Go 
Ссылка позволяет из любых рекламных источников переводить пользователя на главную страницу приложения «Пицца Пицца» или в соответствующий магазин приложений.

Мы запускаем новую рекламную кампанию, где будем в каждом объявлении показывать конкретную пиццу из каталога товаров.  Поэтому хотим сделать, чтобы после клика на конкретное объявление пиццы универсальная ссылка OneLink вела на карточку именно этой пиццы, указанной в объявлении. 


## Что нужно со стороны Android разработки?
Реализовать логику работы параметра deep_link_value

Решить поставленную задачу поможет добавление в OneLink ссылку параметра deep_link_value, который позволит вести пользователя на конкретную страницу приложения. Значение deep_link_value — это имя для определенного контента в приложении, на который будут перенаправлены пользователи.

Параметр deep_link_value будет реализован по следующей схеме: cadr_{category}_{id}, category— категория товара, например пицца; id — динамический параметр с номером id товара в Приложении (категория товара— пицца). 

От разработчика необходимо реализовать желаемое поведение deep_link_value в коде: чтобы в зависимости от id, указанного в параметре deep_link_value при клике пользователь попадал на страницу конкретного товара категории «Пицца». 

Схема работы унифицированного диплинка для Android [https://ru.dev.appsflyer.com/hc/docs/dl_android_unified_deep_linking]( "здесь").
Замечания по поводу UDL:
Требуется SDK V6.1 и выше. Инструкция по установке https://dev.appsflyer.com/hc/docs/install-android-sdk

Окно атрибуции по кликам —  15 минут.

Справочная документация по SDK AppsFlyer для Android https://ru.dev.appsflyer.com/hc/docs/android-sdk-reference
Пример конкретной реализации кода https://ru.dev.appsflyer.com/hc/docs/dl_android_unified_deep_linking

## Обработка ошибок:
- если товара нет в наличии;
Вести по универсальной ссылке на страницу категории, заданное в параметре category
- неправильные id;
Вести на главную старнцу приложения
- deep_link_value не соответствует заданной схеме;
Вести на главную старнцу приложения
- приложение не работает/на обслуживании;
Вести на посадочную лендинг "Пицца Пицца" 
- отсутствуют товары в категории пицца;
Вести на главную старнцу приложения
- в регионе перехода пользователя приложения не продаётся товар из объявления
Вести по универсальной ссылке на страницу категории, заданное в параметре category

